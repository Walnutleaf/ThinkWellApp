(()=>{var e={9487:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>le});o(9558);var n=o(6665),r=o(6986),i=o(8833),a=o(1347),l=o(3150),s=o(5675),c=o(6393),d=o(4705),u=o(1672),f=o(6283),h=o(3929),g=o(5648),m=o(8703),x=o(4627),y=o(2772),p=o(1087),j=o(7905),b=o(7381),w=o(893),S=o(9353),T=o(4493),C=o(397);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function B(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){(0,d.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const k=({name:e,size:t,color:o})=>{switch(e){case"heart":return(0,C.jsx)(T.FaHeart,{size:t,color:o});case"heart-outline":return(0,C.jsx)(T.FaRegHeart,{size:t,color:o});case"share-outline":return(0,C.jsx)(T.FaShareSquare,{size:t,color:o});case"grid":return(0,C.jsx)(T.FaTh,{size:t,color:o});case"star-outline":return(0,C.jsx)(T.FaStar,{size:t,color:o});case"format-quote-close":return(0,C.jsx)(T.FaQuoteRight,{size:t,color:o});case"book-open":return(0,C.jsx)(T.FaBookOpen,{size:t,color:o});case"emoticon-outline":return(0,C.jsx)(T.FaSmile,{size:t,color:o});default:return null}},P={"Personal Growth":["Love Yourself HC","Letting Go","Self Respect","Positive Thinking","Introvert","Empathetic"],Inspirational:["Women's Empowerment","Passion","Perseverance","Success","Failure","Encouraging Words"],Productivity:["Focus","Discipline","Time Management","Efficiency","Goal Setting"],Relationships:["Love","Friendship","Loyalty","Trust","Parenthood"],Philosophical:["Stoicism","Existence","Morality","Knowledge","Reflection","Pre-Socratic"],Spiritual:["Faith","Inner Peace","Meditation","Bible Verses","Buddhism"],Moods:["Happiness","Sadness","Anger","Fear","Joy","Anxiety"],"Life Lessons":["Life Lessons","Experience","Wisdom"],Career:["Leadership","Teamwork","Innovation","Career Growth","Professionalism"],Health:["Wellness","Fitness","Nutrition","Mental Health","Self-care"],Adventure:["Exploration","Adventure","Travel","Curiosity","Discovery"],Other:[]},O=(e,t,o,n,r,i)=>(0,C.jsxs)(y.default,{style:z.bottomSheetContent,children:[(0,C.jsx)(h.default,{style:z.doneButtonContainer,children:(0,C.jsx)(g.default,{style:z.doneButton,onPress:()=>{n(t),o()},children:(0,C.jsx)(f.default,{style:z.doneButtonText,children:"Done"})})}),(0,C.jsx)(f.default,{style:z.sectionTitle,children:"Personal"}),(0,C.jsx)(y.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:z.carousel,children:(0,C.jsx)(h.default,{style:z.carouselRow,children:["Favorites","My Quotes"].map((o=>(0,C.jsxs)(g.default,{style:[z.filterBox,t.includes(o)&&z.filterBoxActive],onPress:()=>e(o),children:[(0,C.jsx)(k,{name:"Favorites"===o?"star-outline":"format-quote-close",size:24,color:t.includes(o)?"white":"black"}),(0,C.jsx)(f.default,{style:[z.filterBoxText,t.includes(o)&&z.filterBoxActiveText],children:o})]},o)))})}),(0,C.jsx)(f.default,{style:z.sectionTitle,children:"Authors"}),(0,C.jsx)(y.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:z.carousel,children:(0,C.jsx)(h.default,{style:z.carouselRow,children:r.map((o=>(0,C.jsxs)(g.default,{style:[z.filterBox,t.includes(o.name)&&z.filterBoxActive],onPress:()=>e(o.name),children:[(0,C.jsx)(k,{name:"book-open",size:24,color:t.includes(o.name)?"white":"black"}),(0,C.jsx)(f.default,{style:[z.filterBoxText,t.includes(o.name)&&z.filterBoxActiveText],children:o.name})]},o.name)))})}),Object.entries(i).map((([o,n])=>(0,C.jsxs)(h.default,{children:[(0,C.jsx)(f.default,{style:z.sectionTitle,children:o}),(0,C.jsx)(y.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:z.carousel,children:(0,C.jsx)(h.default,{style:z.carouselRow,children:n.map((o=>(0,C.jsxs)(g.default,{style:[z.filterBox,t.includes(o)&&z.filterBoxActive],onPress:()=>e(o),children:[(0,C.jsx)(k,{name:"emoticon-outline",size:24,color:t.includes(o)?"white":"black"}),(0,C.jsx)(f.default,{style:[z.filterBoxText,t.includes(o)&&z.filterBoxActiveText],children:o})]},o)))})})]},o)))]}),z=s.default.create({container:{flex:1},appName:{fontSize:24,fontWeight:"bold",color:"white",textAlign:"center",marginVertical:20,position:"absolute",top:40,width:"100%"},quoteContainer:{flex:1,alignItems:"center",justifyContent:"center",paddingHorizontal:20,marginTop:-140},quoteText:{fontSize:25,textAlign:"center",color:"white"},actionButtonsContainer:{flexDirection:"row",justifyContent:"space-between",position:"absolute",bottom:200,left:20,right:20},actionButton:{marginHorizontal:10},categoriesButton:{borderRadius:20,overflow:"hidden"},blurViewButton:{borderRadius:20,paddingVertical:10,paddingHorizontal:30,alignItems:"center",justifyContent:"center"},buttonContent:{flexDirection:"row",alignItems:"center"},buttonText:{color:"white",textAlign:"center",marginLeft:10},modal:{justifyContent:"flex-end",margin:0},doneButtonText:{color:"black",textAlign:"center"},doneButtonContainer:{flexDirection:"row",justifyContent:"flex-end",width:"100%",marginBottom:10},doneButton:{borderRadius:5,paddingVertical:10,paddingHorizontal:20,marginTop:10,alignSelf:"flex-start",backgroundColor:"white"},sectionTitle:{fontSize:18,fontWeight:"bold",color:"black",marginTop:20,marginBottom:10,alignSelf:"center"},bottomSheetContent:{backgroundColor:"white",borderTopLeftRadius:20,borderTopRightRadius:20,paddingHorizontal:20,paddingTop:10,paddingBottom:20,height:"75%"},filterBox:{backgroundColor:"lightgray",paddingVertical:10,paddingHorizontal:15,borderRadius:10,margin:5,alignItems:"center",justifyContent:"center",width:100,height:100},filterBoxActive:{backgroundColor:"black"},filterBoxText:{marginTop:5,color:"black",textAlign:"center"},filterBoxActiveText:{color:"white"},carousel:{paddingHorizontal:10},carouselRow:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly"},counterText:{position:"absolute",top:63,right:35,fontSize:18,fontWeight:"bold",color:"white"},explanationContent:{backgroundColor:"white",borderRadius:20,padding:20,maxHeight:"80%"},explanationSection:{marginBottom:20},explanationTitle:{fontSize:18,fontWeight:"bold",marginBottom:10},explanationText:{fontSize:16,lineHeight:24},closeButton:{backgroundColor:"#6a0dad",padding:10,borderRadius:10,alignItems:"center",marginTop:20},closeButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),I=()=>{const[e,t]=(0,n.useState)([]),[o,r]=(0,n.useState)("Select an author or category and press the button to get a quote"),[i,l]=(0,n.useState)(!1),[s,d]=(0,n.useState)([]),[j,v]=(0,n.useState)(0),[k,I]=(0,n.useState)(null),[R,A]=(0,n.useState)([]),[q,N]=(0,n.useState)([]),[E,H]=(0,n.useState)([]),[F,V]=(0,n.useState)(null),[D,M]=(0,n.useState)(!1),W=(0,n.useRef)(),Q=(0,n.useRef)(),L=(0,u.useRoute)();(0,n.useEffect)((()=>{L.params?.notificationQuote&&(r(L.params.notificationQuote),L.params.notificationQuote=void 0)}),[L.params?.notificationQuote]),(0,n.useEffect)((()=>(W.current=S.addNotificationReceivedListener((e=>{})),Q.current=S.addNotificationResponseReceivedListener((e=>{const t=e.notification.request.content.data.quote;t&&r(t)})),()=>{S.removeNotificationSubscription(W.current),S.removeNotificationSubscription(Q.current)})),[]);(0,n.useEffect)((()=>{(async()=>{try{const e=await fetch("https://walnutleaf.github.io/ThinkWell/quotes.json",{cache:"no-store"}),t=await fetch("https://walnutleaf.github.io/ThinkWell/categories.json",{cache:"no-store"});if(!e.ok||!t.ok)throw new Error("Failed to fetch quotes.json or categories.json");const o=await e.json(),n=await t.json(),i=o.flatMap((e=>e.quotes.map((t=>B(B({},t),{},{author:e.author,type:e.type}))))),a=new Set(i.flatMap((e=>e.category))),l={};n.forEach((e=>{l[e.section]=e.categories.filter((e=>a.has(e)))}));const s=new Set(Object.values(l).flat()),c=Array.from(a).filter((e=>!s.has(e)));if(c.length>0&&(l.Other||(l.Other=[]),l.Other.push(...c)),Object.keys(l).forEach((e=>{0===l[e].length&&delete l[e]})),A(i),N(Array.from(new Set(o.map((e=>e.author)))).map((e=>({name:e,icon:"book-open"})))),H(l),i.length>0){const e=i[Math.floor(Math.random()*i.length)];r(`${e.text} - ${e.author}`),V(e)}await p.default.setItem("cachedQuotes",JSON.stringify(i)),await p.default.setItem("cachedCategories",JSON.stringify(l))}catch(e){console.error("Error fetching quotes or categories from GitHub:",e);try{const e=await p.default.getItem("cachedQuotes"),t=await p.default.getItem("cachedCategories");e&&t?(A(JSON.parse(e)),H(JSON.parse(t))):(A([]),H(P),r("Failed to load quotes. Please check your internet connection and try again."))}catch(t){console.error("Error loading cached data:",t),A([]),H(P),r("Failed to load quotes. Please check your internet connection and try again.")}}})()}),[]);const J=(0,n.useCallback)((()=>{if(!R||0===R.length)return void r("No quotes available. Please try again later.");if(0===e.length){const e=R[Math.floor(Math.random()*R.length)];return r(`${e.text} - ${e.author}`),void V(e)}if(e.includes("Favorites"))return void getFavoriteQuotes();if(e.includes("My Quotes"))return void getMyQuotes();let t=R.filter((t=>e.some((e=>t.category.includes(e)||t.author===e))));if(t.length>0){const e=t[Math.floor(Math.random()*t.length)];r(`${e.text} - ${e.author}`),V(e)}else r("No quotes found"),V(null)}),[e,R]);(0,n.useEffect)((()=>{k&&clearTimeout(k);const e=setTimeout((()=>{v((e=>{const t=e+1;return p.default.setItem("quoteCounter",JSON.stringify(t)),t}))}),1200);return I(e),()=>clearTimeout(e)}),[o]),(0,n.useEffect)((()=>{(async()=>{try{const e=await p.default.getItem("quoteCounter");null!==e&&v(JSON.parse(e))}catch(e){console.error("Error loading quote counter from AsyncStorage",e)}})()}),[]);const G=(0,n.useCallback)((async()=>{try{const e=await p.default.getItem("likedQuotes");let t=e?JSON.parse(e):[];t.includes(o)||(t.push(o),await p.default.setItem("likedQuotes",JSON.stringify(t)),d(t))}catch(e){console.error(e)}}),[o]),$=(0,n.useRef)(new x.default.Value(0)).current,Y=((0,n.useRef)(new x.default.Value(a.State.UNDETERMINED)).current,x.default.event([{nativeEvent:{translationY:$}}],{useNativeDriver:!0})),U={transform:[{translateY:$}]},_=(0,n.useCallback)((()=>{M(!1)}),[]);return(0,C.jsx)(w.LinearGradient,{colors:["#63b3ed","#6a0dad","#ed64a6"],start:{x:0,y:0},end:{x:1,y:1},style:z.container,children:(0,C.jsxs)(h.default,{style:z.container,children:[(0,C.jsx)(f.default,{style:z.appName,children:"ThinkWell"}),(0,C.jsx)(f.default,{style:z.counterText,children:j}),(0,C.jsx)(b.default,{isVisible:i,onBackdropPress:()=>l(!1),onBackButtonPress:()=>l(!1),style:z.modal,animationIn:"slideInUp",animationOut:"slideOutDown",animationInTiming:300,animationOutTiming:300,backdropOpacity:0,children:(0,C.jsx)(h.default,{style:z.bottomSheetContent,children:O((o=>{e.includes(o)?t((e=>e.filter((e=>e!==o)))):t((e=>[...e,o]))}),e,(()=>l(!1)),(e=>{t(e),J()}),q,E)})}),(0,C.jsx)(a.PanGestureHandler,{onGestureEvent:Y,onHandlerStateChange:({nativeEvent:e})=>{e.oldState===a.State.ACTIVE&&x.default.timing($,{toValue:e.translationY<-50?-1e3:0,duration:200,useNativeDriver:!0}).start((()=>{e.translationY<-50&&(J(),$.setValue(0))}))},minDist:10,minPointers:1,maxPointers:1,minDeltaY:-100,maxDeltaY:100,children:(0,C.jsx)(x.default.View,{style:[z.quoteContainer,U],children:(0,C.jsx)(g.default,{onPress:()=>{F&&(F.explanation||F.reference)&&M(!0)},children:(0,C.jsx)(f.default,{style:z.quoteText,children:o})})})}),(0,C.jsxs)(h.default,{style:z.actionButtonsContainer,children:[(0,C.jsx)(g.default,{onPress:G,style:z.actionButton,children:s.includes(o)?(0,C.jsx)(T.FaHeart,{size:30,color:"white"}):(0,C.jsx)(T.FaRegHeart,{size:30,color:"white"})}),(0,C.jsx)(g.default,{onPress:()=>{m.default.share({message:o})},style:z.actionButton,children:(0,C.jsx)(T.FaShareSquare,{size:30,color:"white"})}),(0,C.jsx)(g.default,{style:z.categoriesButton,onPress:()=>{l(!0)},children:(0,C.jsx)(c.default,{intensity:50,style:z.blurViewButton,tint:"light",children:(0,C.jsxs)(h.default,{style:z.buttonContent,children:[(0,C.jsx)(T.FaTh,{size:24,color:"white"}),(0,C.jsx)(f.default,{style:z.buttonText,children:"Categories"})]})})})]}),(0,C.jsx)(b.default,{isVisible:D,onBackdropPress:_,onBackButtonPress:_,style:z.modal,animationIn:"fadeIn",animationOut:"fadeOutDown",animationInTiming:200,animationOutTiming:200,backdropOpacity:.5,children:(0,C.jsxs)(h.default,{style:z.explanationContent,children:[(0,C.jsxs)(y.default,{children:[F&&F.explanation&&(0,C.jsxs)(h.default,{style:z.explanationSection,children:[(0,C.jsx)(f.default,{style:z.explanationTitle,children:"Explanation:"}),(0,C.jsx)(f.default,{style:z.explanationText,children:F.explanation})]}),F&&F.reference&&(0,C.jsxs)(h.default,{style:z.explanationSection,children:[(0,C.jsx)(f.default,{style:z.explanationTitle,children:"Reference:"}),(0,C.jsx)(f.default,{style:z.explanationText,children:F.reference})]})]}),(0,C.jsx)(g.default,{style:z.closeButton,onPress:_,children:(0,C.jsx)(f.default,{style:z.closeButtonText,children:"Close"})})]})})]})})};var R=o(6773),A=o(1950),q=o(2365),N=o(4701);const E=s.default.create({container:{flex:1},safeArea:{flex:1,paddingTop:50},content:{flex:1,padding:20},title:{fontSize:24,fontWeight:"bold",marginBottom:20,color:"white"},quoteInput:{borderWidth:1,borderColor:"grey",borderRadius:10,padding:10,fontSize:18,marginBottom:20,height:150,backgroundColor:"white",color:"black"},authorInput:{borderWidth:1,borderColor:"grey",borderRadius:10,padding:10,fontSize:18,height:45,backgroundColor:"white",color:"black"},button:{backgroundColor:"#6a0dad",borderRadius:10,paddingVertical:10,paddingHorizontal:20,marginTop:10},buttonText:{color:"white",textAlign:"center",fontSize:18},quotesContainer:{marginTop:30},quoteCard:{backgroundColor:"#2a2a2a",borderRadius:10,padding:15,marginBottom:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},quoteText:{fontSize:16,color:"white",marginBottom:10},quoteAuthor:{fontSize:14,color:"white",textAlign:"right"},deleteAction:{backgroundColor:"red",borderRadius:10,justifyContent:"center",alignItems:"center",width:75,marginBottom:10},deleteActionInner:{flex:1,justifyContent:"center",alignItems:"center",width:"100%"},deleteActionText:{color:"white",fontWeight:"600",fontSize:16,marginTop:5}}),H=()=>{const[e,t]=(0,n.useState)(""),[o,r]=(0,n.useState)(""),[i,l]=(0,n.useState)([]),s=(0,n.useRef)(new Map),c=(0,n.useRef)(new x.default.Value(1)).current;(0,n.useEffect)((()=>{(async()=>{try{const e=await p.default.getItem("userQuotes");null!==e&&l(JSON.parse(e))}catch(e){console.error(e)}})()}),[]);const d=(0,n.useCallback)((async e=>{try{const t=i.filter((t=>t!==e));await p.default.setItem("userQuotes",JSON.stringify(t)),l(t)}catch(t){console.error(t)}}),[i]),u=(e,t)=>(0,C.jsx)(a.Swipeable,{ref:e=>{e?s.current.set(t,e):s.current.delete(t)},renderRightActions:(t,o)=>((e,t,o)=>{const n=t.interpolate({inputRange:[-100,0],outputRange:[1,0],extrapolate:"clamp"});return(0,C.jsx)(x.default.View,{style:[E.deleteAction,{transform:[{translateX:n}]}],children:(0,C.jsxs)(g.default,{style:E.deleteActionInner,onPress:()=>d(o),children:[(0,C.jsx)(j.default,{name:"delete",size:24,color:"white"}),(0,C.jsx)(f.default,{style:E.deleteActionText,children:"Delete"})]})})})(0,o,e),overshootRight:!1,onSwipeableWillOpen:()=>{[...s.current.entries()].forEach((([e,o])=>{e!==t&&o&&o.close()}))},children:(0,C.jsxs)(h.default,{style:E.quoteCard,children:[(0,C.jsx)(f.default,{style:E.quoteText,children:e.quote}),(0,C.jsxs)(f.default,{style:E.quoteAuthor,children:["- ",e.author]})]})},t);return(0,C.jsx)(a.GestureHandlerRootView,{style:{flex:1},children:(0,C.jsx)(A.default,{onPress:()=>{q.default.dismiss()},children:(0,C.jsx)(w.LinearGradient,{colors:["#63b3ed","#6a0dad","#ed64a6"],start:{x:0,y:0},end:{x:1,y:1},style:E.container,children:(0,C.jsx)(N.default,{style:E.safeArea,children:(0,C.jsxs)(h.default,{style:E.content,children:[(0,C.jsx)(f.default,{style:E.title,children:"Add a Quote"}),(0,C.jsx)(R.default,{style:E.quoteInput,onChangeText:t,value:e,placeholder:"Quote",multiline:!0}),(0,C.jsx)(R.default,{style:E.authorInput,onChangeText:r,value:o,placeholder:"Author"}),(0,C.jsx)(x.default.View,{style:{transform:[{scale:c}]},children:(0,C.jsx)(g.default,{style:E.button,onPress:async()=>{if(""!==e.trim()&&""!==o.trim())try{const n={quote:e,author:o},a=[...i,n];await p.default.setItem("userQuotes",JSON.stringify(a)),l(a),t(""),r(""),x.default.sequence([x.default.timing(c,{toValue:.95,duration:100,useNativeDriver:!0}),x.default.timing(c,{toValue:1,duration:100,useNativeDriver:!0})]).start()}catch(n){console.error(n)}},children:(0,C.jsx)(f.default,{style:E.buttonText,children:"Submit"})})}),(0,C.jsx)(y.default,{style:E.quotesContainer,children:i.map(((e,t)=>u(e,t)))})]})})})})})},F=s.default.create({container:{flex:1},scrollViewContent:{paddingBottom:100,paddingHorizontal:10,paddingTop:20},sectionHeader:{fontSize:20,fontWeight:"bold",marginTop:20,marginBottom:10,color:"#fff"},quoteCard:{backgroundColor:"#2a2a2a",borderRadius:10,padding:15,marginBottom:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},quoteText:{fontSize:16,color:"white",marginBottom:10},shareIcon:{position:"absolute",right:10,bottom:10,zIndex:1},deleteAction:{backgroundColor:"red",borderRadius:10,justifyContent:"center",alignItems:"center",width:75,marginBottom:10},deleteActionInner:{flex:1,justifyContent:"center",alignItems:"center",width:"100%"},deleteActionText:{color:"white",fontWeight:"600",fontSize:16,marginTop:5}}),V=()=>{const[e,t]=(0,n.useState)([]),o=(0,n.useRef)(new Map),r=(0,n.useCallback)((async()=>{try{const e=await p.default.getItem("likedQuotes");null!==e&&t(JSON.parse(e))}catch(e){console.error(e)}}),[]);(0,u.useFocusEffect)((0,n.useCallback)((()=>{r()}),[r]));const i=(0,n.useCallback)((async o=>{try{const n=e.filter((e=>e!==o));t(n),await p.default.setItem("likedQuotes",JSON.stringify(n))}catch(n){console.error(n)}}),[e]),l=(e,t)=>(0,C.jsx)(a.Swipeable,{ref:t=>{t?o.current.set(e,t):o.current.delete(e)},renderRightActions:(t,o)=>((e,t,o)=>{const n=t.interpolate({inputRange:[-100,0],outputRange:[1,0],extrapolate:"clamp"});return(0,C.jsx)(x.default.View,{style:[F.deleteAction,{transform:[{translateX:n}]}],children:(0,C.jsxs)(g.default,{style:F.deleteActionInner,onPress:()=>i(o),children:[(0,C.jsx)(j.default,{name:"delete",size:24,color:"white"}),(0,C.jsx)(f.default,{style:F.deleteActionText,children:"Delete"})]})})})(0,o,e),overshootRight:!1,onSwipeableWillOpen:()=>{[...o.current.entries()].forEach((([t,o])=>{t!==e&&o&&o.close()}))},children:(0,C.jsxs)(h.default,{style:F.quoteCard,children:[(0,C.jsx)(f.default,{style:F.quoteText,children:e}),(0,C.jsx)(g.default,{style:F.shareIcon,onPress:()=>(e=>{m.default.share({message:e})})(e),children:(0,C.jsx)(j.default,{name:"share-variant",size:24,color:"white"})})]})},e),s=e.reduce(((e,t)=>{const o=t.split("-"),n=o.length>1?o[1].trim():"Unknown";return e[n]||(e[n]=[]),e[n].push(t),e}),{});return(0,C.jsx)(w.LinearGradient,{colors:["#63b3ed","#6a0dad","#ed64a6"],start:{x:0,y:0},end:{x:1,y:1},style:F.container,children:(0,C.jsx)(y.default,{contentContainerStyle:F.scrollViewContent,showsVerticalScrollIndicator:!1,children:Object.keys(s).map((e=>(0,C.jsxs)(h.default,{children:[(0,C.jsx)(f.default,{style:F.sectionHeader,children:e}),s[e].map((e=>l(e)))]},e)))})})};var D=o(932),M=o(955),W=o(1690),Q=o(4037),L=o(8264),J=o(8662),G=o(519),$=o(1356),Y=o(1040);function U(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?U(Object(o),!0).forEach((function(t){(0,d.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):U(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const X=s.default.create({container:{flex:1},scrollView:{padding:15},header:{flexDirection:"row",alignItems:"center",padding:15,paddingTop:40,backgroundColor:"transparent"},backButton:{backgroundColor:"rgba(255, 255, 255, 0.2)",borderRadius:20,padding:10},section:{marginBottom:20},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:10,color:"#ffffff"},notificationFrequencyContainer:{flexDirection:"row",justifyContent:"space-between"},frequencyButton:{flex:1,backgroundColor:"#ffffff",paddingVertical:10,paddingHorizontal:15,borderRadius:5,marginHorizontal:5,alignItems:"center"},frequencyButtonSelected:{backgroundColor:"#000000"},frequencyButtonText:{fontSize:16,color:"#000000"},frequencyButtonTextSelected:{color:"white"},timeRangeContainer:{flexDirection:"row",justifyContent:"space-between"},timeButton:{flex:1,backgroundColor:"#ffffff",paddingVertical:10,paddingHorizontal:15,borderRadius:5,marginHorizontal:5,alignItems:"center"},timeButtonText:{fontSize:16,color:"#000000"},categoriesContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"},categoryButton:{backgroundColor:"#ffffff",paddingVertical:8,paddingHorizontal:12,borderRadius:20,margin:4},categoryButtonSelected:{backgroundColor:"#000000"},categoryButtonText:{fontSize:14,color:"#000000"},categoryButtonTextSelected:{color:"white"},scheduleButton:{backgroundColor:"#6a0dad",paddingHorizontal:20,paddingVertical:12,borderRadius:5,marginTop:20,alignSelf:"center"},scheduleButtonText:{color:"white",fontSize:16,fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{backgroundColor:"white",borderRadius:10,padding:20,width:"80%",maxHeight:"80%"},timePickerContainer:{alignItems:"center"},timePickerColumns:{flexDirection:"row",justifyContent:"space-around",height:200},timePickerColumn:{flex:1,marginHorizontal:10},timePickerItem:{paddingVertical:10,alignItems:"center"},timePickerItemSelected:{backgroundColor:"#4c669f",borderRadius:5},timePickerText:{fontSize:18,color:"#4c669f"},timePickerTextSelected:{color:"white"},confirmButton:{backgroundColor:"#6a0dad",paddingVertical:10,paddingHorizontal:20,borderRadius:5,marginTop:20},confirmButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),K=()=>{const[e,t]=(0,n.useState)(!1),[o,r]=(0,n.useState)(1),[i,a]=(0,n.useState)({hours:9,minutes:0}),[l,s]=(0,n.useState)({hours:21,minutes:0}),[c,d]=(0,n.useState)([]),[m,x]=(0,n.useState)(!1),[b,S]=(0,n.useState)(null),T=(0,u.useNavigation)();(0,n.useEffect)((()=>{v(),k(),P()}),[]),(0,n.useEffect)((()=>{B()}),[e,o,i,l,c]);const v=async()=>{try{const e=await p.default.getItem("notificationSettings");if(e){const o=JSON.parse(e);t(o.enabled),r(o.perDay||1),a(o.startTime||{hours:9,minutes:0}),s(o.endTime||{hours:21,minutes:0}),d(o.categories||[])}}catch(e){console.error("Error loading settings:",e)}},B=async()=>{try{const t={enabled:e,perDay:o,startTime:i,endTime:l,categories:c};await p.default.setItem("notificationSettings",JSON.stringify(t))}catch(t){console.error("Error saving settings:",t)}},k=async()=>{const{status:e}=await J.requestPermissionsAsync();"granted"!==e&&(W.default.alert("Permission denied","You need to grant notification permissions to enable this feature."),t(!1))},P=()=>{G.setNotificationHandler({handleNotification:async()=>({shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!1})})},O=(e,t,o)=>{const n=60*e.hours+e.minutes,r=(60*t.hours+t.minutes-n)/o;return Array.from({length:o},((e,t)=>{const o=n+r*t;return{hours:Math.floor(o/60),minutes:Math.floor(o%60)}}))},z=e=>e&&"undefined"!==typeof e.hours&&"undefined"!==typeof e.minutes?`${e.hours.toString().padStart(2,"0")}:${e.minutes.toString().padStart(2,"0")}`:"00:00",I=e=>{S(e),x(!0)};return(0,C.jsxs)(w.LinearGradient,{colors:["#63b3ed","#6a0dad","#ed64a6"],start:{x:0,y:0},end:{x:1,y:1},style:X.container,children:[(0,C.jsx)(h.default,{style:X.header,children:(0,C.jsx)(g.default,{onPress:()=>T.goBack(),style:X.backButton,children:(0,C.jsx)(j.default,{name:"arrow-left",size:24,color:"white"})})}),(0,C.jsxs)(y.default,{style:X.scrollView,children:[(0,C.jsxs)(h.default,{style:X.section,children:[(0,C.jsx)(f.default,{style:X.sectionTitle,children:"Enable Notifications"}),(0,C.jsx)(Q.default,{value:e,onValueChange:t,trackColor:{false:"#767577",true:"#4c669f"},thumbColor:"#f4f3f4"})]}),e&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(h.default,{style:X.section,children:[(0,C.jsx)(f.default,{style:X.sectionTitle,children:"Notifications per day"}),(0,C.jsx)(h.default,{style:X.notificationFrequencyContainer,children:[1,2,3,4,5].map((e=>(0,C.jsx)(g.default,{style:[X.frequencyButton,o===e&&X.frequencyButtonSelected],onPress:()=>r(e),children:(0,C.jsx)(f.default,{style:[X.frequencyButtonText,o===e&&X.frequencyButtonTextSelected],children:e})},e)))})]}),(0,C.jsxs)(h.default,{style:X.section,children:[(0,C.jsx)(f.default,{style:X.sectionTitle,children:"Notification Time Range"}),(0,C.jsxs)(h.default,{style:X.timeRangeContainer,children:[(0,C.jsx)(g.default,{style:X.timeButton,onPress:()=>I("start"),children:(0,C.jsxs)(f.default,{style:X.timeButtonText,children:["Start: ",z(i)]})}),(0,C.jsx)(g.default,{style:X.timeButton,onPress:()=>I("end"),children:(0,C.jsxs)(f.default,{style:X.timeButtonText,children:["End: ",z(l)]})})]})]}),(0,C.jsxs)(h.default,{style:X.section,children:[(0,C.jsx)(f.default,{style:X.sectionTitle,children:"Notification Categories"}),(0,C.jsx)(h.default,{style:X.categoriesContainer,children:["Personal","Plato","Friedrich Nietzsche","Marcus Aurelius","Carl Jung","Stress","Fears","Helpless","Exhausted","Sadness","Uncertainty","Frustration","Procrastination"].map((e=>(0,C.jsx)(g.default,{style:[X.categoryButton,c.includes(e)&&X.categoryButtonSelected],onPress:()=>(e=>{d((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e),children:(0,C.jsx)(f.default,{style:[X.categoryButtonText,c.includes(e)&&X.categoryButtonTextSelected],children:e})},e)))})]}),(0,C.jsx)(g.default,{style:X.scheduleButton,onPress:async()=>{if(await $.default(),!e)return void W.default.alert("Info","Notifications are disabled.");const t=await p.default.getItem("likedQuotes");let n=t?JSON.parse(t):[];if(c.length>0&&(n=n.filter((e=>{const[,t]=e.split("-");return c.includes(t.trim())}))),0===n.length)return void W.default.alert("Warning","No quotes available for the selected categories.");const r=O(i,l,o);for(let e=0;e<r.length;e++){const t=n[Math.floor(Math.random()*n.length)],[o,i]=t.split("-");await Y.default({content:{title:"Your Daily Quote",body:o.trim(),data:{quote:t}},trigger:{hour:r[e].hours,minute:r[e].minutes,repeats:!0}})}B(),W.default.alert("Success","Notifications scheduled successfully!")},children:(0,C.jsx)(f.default,{style:X.scheduleButtonText,children:"Schedule Notifications"})})]}),(0,C.jsx)(L.default,{visible:m,transparent:!0,animationType:"slide",children:(0,C.jsx)(h.default,{style:X.modalContainer,children:(0,C.jsxs)(h.default,{style:X.modalContent,children:[(0,C.jsxs)(f.default,{style:X.modalTitle,children:["Select ","start"===b?"Start":"End"," Time"]}),(0,C.jsx)((({time:e,onTimeChange:t,onConfirm:o})=>{const[r,i]=(0,n.useState)(e),a=Array.from({length:24},((e,t)=>t));return(0,C.jsxs)(h.default,{style:X.timePickerContainer,children:[(0,C.jsxs)(h.default,{style:X.timePickerColumns,children:[(0,C.jsx)(y.default,{style:X.timePickerColumn,children:a.map((e=>(0,C.jsx)(g.default,{style:[X.timePickerItem,e===r.hours&&X.timePickerItemSelected],onPress:()=>i(_(_({},r),{},{hours:e})),children:(0,C.jsx)(f.default,{style:[X.timePickerText,e===r.hours&&X.timePickerTextSelected],children:e.toString().padStart(2,"0")})},`hour-${e}`)))}),(0,C.jsx)(y.default,{style:X.timePickerColumn,children:[0,15,30,45].map((e=>(0,C.jsx)(g.default,{style:[X.timePickerItem,e===r.minutes&&X.timePickerItemSelected],onPress:()=>i(_(_({},r),{},{minutes:e})),children:(0,C.jsx)(f.default,{style:[X.timePickerText,e===r.minutes&&X.timePickerTextSelected],children:e.toString().padStart(2,"0")})},`minute-${e}`)))})]}),(0,C.jsx)(g.default,{style:X.confirmButton,onPress:()=>{t(r),o()},children:(0,C.jsx)(f.default,{style:X.confirmButtonText,children:"Confirm"})})]})}),{time:"start"===b?i:l,onTimeChange:e=>{"start"===b?a(e):s(e)},onConfirm:()=>x(!1)})]})})})]})]})},Z=(0,M.default)(),ee=({navigation:e})=>{const t=[{id:"1",title:"Notification Settings",onPress:()=>e.navigate("NotificationSettings")}];return(0,C.jsx)(w.LinearGradient,{colors:["#63b3ed","#6a0dad","#ed64a6"],start:{x:0,y:0},end:{x:1,y:1},style:te.container,children:(0,C.jsx)(D.default,{data:t,renderItem:({item:e})=>(0,C.jsx)(g.default,{style:te.listItem,onPress:e.onPress,children:(0,C.jsx)(f.default,{style:te.listItemText,children:e.title})}),keyExtractor:e=>e.id})})},te=s.default.create({container:{flex:1,paddingTop:60},listItem:{padding:20,borderBottomColor:"#ccc",borderBottomWidth:1},listItemText:{fontSize:18,color:"white"}}),oe=()=>(0,C.jsxs)(Z.Navigator,{screenOptions:{headerShown:!1},children:[(0,C.jsx)(Z.Screen,{name:"Account Home",component:ee}),(0,C.jsx)(Z.Screen,{name:"NotificationSettings",component:K})]}),ne=(0,l.default)(),re=s.default.create({tabBarStyle:{backgroundColor:"transparent",position:"absolute",borderTopWidth:0,elevation:0,bottom:50,left:10,right:10,height:100,borderRadius:20,overflow:"hidden"},blurView:{width:"100%",height:"100%",borderRadius:20,overflow:"hidden"}}),ie=()=>(0,C.jsxs)(ne.Navigator,{screenOptions:({route:e})=>({tabBarIcon:({focused:t,color:o,size:n})=>{switch(e.name){case"Home":return(0,C.jsx)(T.FaHome,{color:o,size:n});case"My Quotes":return(0,C.jsx)(T.FaPlusSquare,{color:o,size:n});case"Favorites":return(0,C.jsx)(T.FaStar,{color:o,size:n});case"Account":return(0,C.jsx)(T.FaUser,{color:o,size:n})}},headerShown:!1,tabBarShowLabel:!1,tabBarStyle:re.tabBarStyle,tabBarActiveTintColor:"white",tabBarInactiveTintColor:"white",tabBarBackground:()=>(0,C.jsx)(c.default,{intensity:20,tint:"light",style:re.blurView})}),children:[(0,C.jsx)(ne.Screen,{name:"Home",component:I}),(0,C.jsx)(ne.Screen,{name:"My Quotes",component:H}),(0,C.jsx)(ne.Screen,{name:"Favorites",component:V}),(0,C.jsx)(ne.Screen,{name:"Account",component:oe})]});var ae=o(3530);const le=()=>{const e=(0,n.useRef)(null);return(0,n.useEffect)((()=>{!async function(){try{await ae.loadAsync({MaterialCommunityIcons:o(149),FontAwesome:o(755)}),console.log("Fonts loaded successfully")}catch(e){console.error("Error loading fonts: ",e)}}()}),[]),(0,C.jsx)(i.SafeAreaProvider,{children:(0,C.jsx)(a.GestureHandlerRootView,{style:{flex:1},children:(0,C.jsx)(r.default,{ref:e,children:(0,C.jsx)(ie,{})})})})}},8982:()=>{},7790:()=>{},7965:()=>{},6089:()=>{},6987:()=>{},4688:()=>{},1069:()=>{},5340:()=>{},9838:()=>{},3779:()=>{},7199:()=>{}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,(()=>{var e=[];o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],l=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,l,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(s)var d=s(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=o.O(void 0,[198],(()=>o(5036)));n=o.O(n)})();
//# sourceMappingURL=main.a6b6a829.js.map